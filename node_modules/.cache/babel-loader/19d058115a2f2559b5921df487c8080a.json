{"ast":null,"code":"import _objectSpread from \"/Users/michaelkim/Documents/GitHub/inbound-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/michaelkim/Documents/GitHub/inbound-webapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/michaelkim/Documents/GitHub/inbound-webapp/src/Pages/ViewPosts.jsx\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { Box, Stack, Typography, IconButton, Switch } from \"@mui/material\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\nimport ExpandedCard from \"../Components/ViewPosts/ExpandedCard\";\nimport ListingsBox from \"../Components/ViewPosts/ListingsBox\";\nimport SearchBar from \"../Components/ViewPosts/SearchBar\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport MobileCard from \"../Components/ViewPosts/MobileCard\";\nimport loading from \"./DummyData/Assets/loading\";\nimport NoPosts from \"../Components/ViewPosts/NoPosts\";\nimport FeedbackForm from \"../Components/FeedbackForm\";\nimport { useNavigate } from \"react-router-dom\";\nimport NoSavedPosts from \"../Components/ViewPosts/NoSavedPosts\";\nimport Loading from \"../Loading/Loading\"; // Simulated \"database\" of posts\n\nvar mockDatabase = {\n  posts: {\n    post1: {\n      id: \"post1\",\n      title: \"Post 1\",\n      company: \"Company A\",\n      image: \"post1_image.jpg\",\n      locations: [\"Location A\", \"Location B\"],\n      job_type: \"Full-time\",\n      date_deadline: new Date(\"2023-08-31\") // other properties...\n\n    },\n    post2: {\n      id: \"post2\",\n      title: \"Post 2\",\n      company: \"Company B\",\n      image: \"post2_image.jpg\",\n      locations: [\"Location C\"],\n      job_type: \"Part-time\",\n      date_deadline: new Date(\"2023-09-15\") // other properties...\n\n    } // ... more posts\n\n  },\n  clubs: {\n    club1: {\n      name: \"Club A\",\n      logo: \"clubA_logo.png\",\n      posts: [\"post1\", \"post2\"]\n    } // ... more clubs\n\n  }\n};\n\nfunction sortByDate(posts) {\n  var sortedPosts = Object.keys(posts).sort(function (a, b) {\n    return posts[a].date_deadline - posts[b].date_deadline;\n  });\n  return sortedPosts.reduce(function (finalMap, postKey) {\n    finalMap[postKey] = posts[postKey];\n    return finalMap;\n  }, {});\n}\n\nvar ViewPosts = function ViewPosts() {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      listings = _useState2[0],\n      setListings = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeId = _useState4[0],\n      setActiveId = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      togglePosts = _useState6[0],\n      setTogglePosts = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      groupListings = _useState8[0],\n      setGroupListings = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      groupActiveId = _useState10[0],\n      setGroupActiveId = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      userExec = _useState12[0],\n      setUserExec = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      open = _useState14[0],\n      setOpen = _useState14[1];\n\n  var matches = useMediaQuery(\"(min-width:900px)\");\n  var today = new Date();\n  var navigate = useNavigate();\n  useEffect(function () {\n    // Simulated data fetching\n    var fetchData = function fetchData() {\n      // Simulating user data\n      var currentUser = {\n        clubs: [\"club1\"],\n        exec_for: [\"club1\"]\n      };\n\n      if (!currentUser) {\n        navigate(\"/signin\");\n      }\n\n      if (currentUser.exec_for.length) {\n        setUserExec(true);\n      } // Simulating data retrieval from the \"database\"\n\n\n      var posts = mockDatabase.posts;\n      var clubs = mockDatabase.clubs;\n\n      var updatedPosts = _objectSpread({}, posts);\n\n      var _iterator = _createForOfIteratorHelper(currentUser.clubs),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var clubRef = _step.value;\n          var club = clubs[clubRef];\n\n          var _iterator2 = _createForOfIteratorHelper(club.posts),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var postID = _step2.value;\n              var post = posts[postID];\n\n              if (post) {\n                if (!updatedPosts[postID].clubs) {\n                  updatedPosts[postID].clubs = [];\n                }\n\n                updatedPosts[postID].clubs.push({\n                  name: club.name,\n                  imageUrl: club.logo\n                });\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      setListings(posts);\n      setGroupListings(posts);\n    };\n\n    fetchData();\n  }, []);\n\n  var handleCardClick = function handleCardClick(id) {\n    setActiveId(id);\n\n    if (!matches) {\n      setOpen(true);\n    }\n  };\n\n  var handleGroupCardClick = function handleGroupCardClick(id) {\n    setGroupActiveId(id);\n\n    if (!matches) {\n      setOpen(true);\n    }\n  };\n\n  var handleTogglePosts = function handleTogglePosts() {\n    setTogglePosts(!togglePosts);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  }; // Posts loaded\n\n\n  if (listings) {\n    // Case 1: All Posts\n    if (!togglePosts) {\n      // Subcase 1: No Posts\n      if (!Object.keys(listings).length) {\n        return /*#__PURE__*/React.createElement(NoPosts, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 12\n          }\n        });\n      } // Subcase 2: Default\n      else {\n        return /*#__PURE__*/React.createElement(Box, {\n          sx: {\n            mx: {\n              xs: \"0px\",\n              lg: \"100px\"\n            }\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(Stack, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 7\n          }\n        }, /*#__PURE__*/React.createElement(Box, {\n          sx: {\n            display: \"flex\",\n            gap: \"100px\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            mx: {\n              xs: \"10px\",\n              lg: \"0px\"\n            }\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 8\n          }\n        }, /*#__PURE__*/React.createElement(Typography, {\n          variant: \"h5\",\n          fontWeight: \"medium\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 9\n          }\n        }, \"Latest Opportunities\")), /*#__PURE__*/React.createElement(Stack, {\n          direction: \"row\",\n          spacing: 1,\n          alignItems: \"center\",\n          sx: {\n            display: userExec ? \"flex\" : \"none\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 8\n          }\n        }, /*#__PURE__*/React.createElement(Typography, {\n          sx: {\n            fontWeight: togglePosts ? \"regular\" : \"bold\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 9\n          }\n        }, \"All Posts\"), /*#__PURE__*/React.createElement(Switch, {\n          onClick: handleTogglePosts,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 9\n          }\n        }), /*#__PURE__*/React.createElement(Typography, {\n          sx: {\n            fontWeight: togglePosts ? \"bold\" : \"regular\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 9\n          }\n        }, \"My Posts\"))), /*#__PURE__*/React.createElement(Stack, {\n          direction: \"row\",\n          sx: {\n            mb: 2\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 7\n          }\n        }, /*#__PURE__*/React.createElement(ListingsBox, {\n          clickFunction: handleCardClick,\n          activeId: activeId,\n          posts: listings,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 8\n          }\n        }), /*#__PURE__*/React.createElement(ExpandedCard, {\n          listing: listings[activeId],\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 8\n          }\n        }), /*#__PURE__*/React.createElement(MobileCard, {\n          listing: listings[activeId],\n          handleClose: handleClose,\n          open: open,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 8\n          }\n        })), /*#__PURE__*/React.createElement(FeedbackForm, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 7\n          }\n        }));\n      }\n    } // Case 2: Group Posts\n    else {\n      // Subcase 1: No Posts\n      if (!Object.keys(groupListings).length) {\n        return /*#__PURE__*/React.createElement(Box, {\n          sx: {\n            mx: {\n              xs: \"0px\",\n              lg: \"100px\"\n            }\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(Stack, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 7\n          }\n        }, /*#__PURE__*/React.createElement(Box, {\n          sx: {\n            display: \"flex\",\n            gap: \"100px\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            mx: {\n              xs: \"10px\",\n              lg: \"0px\"\n            }\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 8\n          }\n        }, /*#__PURE__*/React.createElement(Typography, {\n          variant: \"h5\",\n          fontWeight: \"medium\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 9\n          }\n        }, \"Latest Opportunities\")), /*#__PURE__*/React.createElement(Stack, {\n          direction: \"row\",\n          spacing: 1,\n          alignItems: \"center\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 8\n          }\n        }, /*#__PURE__*/React.createElement(Typography, {\n          sx: {\n            fontWeight: togglePosts ? \"regular\" : \"bold\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 9\n          }\n        }, \"All Posts\"), /*#__PURE__*/React.createElement(Switch, {\n          onClick: handleTogglePosts,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 9\n          }\n        }), /*#__PURE__*/React.createElement(Typography, {\n          sx: {\n            fontWeight: togglePosts ? \"bold\" : \"regular\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 9\n          }\n        }, \"My Posts\"))), /*#__PURE__*/React.createElement(NoSavedPosts, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 7\n          }\n        }), /*#__PURE__*/React.createElement(FeedbackForm, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 7\n          }\n        }));\n      } // Subcase 2: Default\n      else {\n        return /*#__PURE__*/React.createElement(Box, {\n          sx: {\n            mx: {\n              xs: \"0px\",\n              lg: \"100px\"\n            }\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 7\n          }\n        }, /*#__PURE__*/React.createElement(Stack, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(Box, {\n          sx: {\n            display: \"flex\",\n            gap: \"100px\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            mx: {\n              xs: \"10px\",\n              lg: \"0px\"\n            }\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 8\n          }\n        }, /*#__PURE__*/React.createElement(Typography, {\n          variant: \"h5\",\n          fontWeight: \"medium\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 7\n          }\n        }, \"Latest Opportunities\")), /*#__PURE__*/React.createElement(Stack, {\n          direction: \"row\",\n          spacing: 1,\n          alignItems: \"center\",\n          sx: {\n            display: userExec ? \"flex\" : \"none\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 8\n          }\n        }, /*#__PURE__*/React.createElement(Typography, {\n          sx: {\n            fontWeight: togglePosts ? \"regular\" : \"bold\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 7\n          }\n        }, \"All Posts\"), /*#__PURE__*/React.createElement(Switch, {\n          onClick: handleTogglePosts,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 7\n          }\n        }), /*#__PURE__*/React.createElement(Typography, {\n          sx: {\n            fontWeight: togglePosts ? \"bold\" : \"regular\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 7\n          }\n        }, \"My Posts\"))), /*#__PURE__*/React.createElement(Stack, {\n          direction: \"row\",\n          sx: {\n            mb: 2\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(ListingsBox, {\n          clickFunction: togglePosts ? handleGroupCardClick : handleCardClick,\n          activeId: togglePosts ? groupActiveId : activeId,\n          posts: togglePosts ? groupListings : listings,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 8\n          }\n        }), /*#__PURE__*/React.createElement(Paper, {\n          elevation: 3,\n          sx: {\n            mt: 1,\n            mx: 2,\n            border: 2,\n            borderColor: open ? \"primary.main\" : \"transparent\",\n            borderRadius: \"30px\",\n            minWidth: {\n              xs: \"100%\",\n              sm: \"100%\",\n              md: \"400px\",\n              lg: \"515px\"\n            },\n            maxWidth: \"515px\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 8\n          }\n        }, /*#__PURE__*/React.createElement(StyledButtonBase, {\n          sx: {\n            justifyContent: \"left\",\n            width: \"100%\",\n            borderRadius: \"30px\",\n            px: \"35px\",\n            py: \"23px\",\n            \"&.Mui-active\": {\n              border: \"4px solid #482FD7\"\n            }\n          },\n          onClick: function onClick() {\n            return togglePosts ? handleGroupCardClick(groupActiveId) : handleCardClick(activeId);\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 7\n          }\n        }, /*#__PURE__*/React.createElement(Stack, {\n          gap: 2,\n          width: \"100%\",\n          direction: \"horizontal\",\n          justifyContent: \"left\",\n          whiteSpace: \"nowrap\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 8\n          }\n        }, /*#__PURE__*/React.createElement(Img, {\n          alt: togglePosts ? groupListings[groupActiveId].company : listings[activeId].company,\n          src: togglePosts ? groupListings[groupActiveId].image : listings[activeId].image,\n          sx: {\n            width: 108,\n            height: 108,\n            borderRadius: \"5px\"\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 10\n          }\n        })), /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: true,\n          sm: true,\n          container: true,\n          width: \"10%\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 8\n          }\n        }, /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: true,\n          container: true,\n          spacing: 2,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 10\n          }\n        }, /*#__PURE__*/React.createElement(Grid, {\n          item: true,\n          xs: true,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(Typography, {\n          textAlign: \"left\",\n          gutterBottom: true,\n          variant: \"h6\",\n          whiteSpace: \"nowrap\",\n          fontWeight: \"bold\",\n          textOverflow: \"ellipsis\",\n          overflow: \"hidden\",\n          component: \"div\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 11\n          }\n        }, togglePosts ? groupListings[groupActiveId].title : listings[activeId].title), /*#__PURE__*/React.createElement(Typography, {\n          variant: \"body2\",\n          gutterBottom: true,\n          textAlign: \"left\",\n          textOverflow: \"ellipsis\",\n          whiteSpace: \"nowrap\",\n          overflow: \"hidden\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 11\n          }\n        }, \"\".concat(togglePosts ? groupListings[groupActiveId].company : listings[activeId].company, \" | \").concat(togglePosts ? shortenLocations(groupListings[groupActiveId].locations) : shortenLocations(listings[activeId].locations))), /*#__PURE__*/React.createElement(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          textAlign: \"left\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 11\n          }\n        }, togglePosts ? groupListings[groupActiveId].job_type : listings[activeId].job_type))))))), /*#__PURE__*/React.createElement(MobileCard, {\n          listing: togglePosts ? groupListings[groupActiveId] : listings[activeId],\n          handleClose: handleClose,\n          open: open,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 8\n          }\n        })), /*#__PURE__*/React.createElement(FeedbackForm, {\n          sx: {\n            mt: 2\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 6\n          }\n        }));\n      }\n    }\n  } // Posts not loaded\n  else {\n    return /*#__PURE__*/React.createElement(Loading, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 10\n      }\n    });\n  }\n};\n\nexport default ViewPosts;","map":{"version":3,"names":["React","useState","useEffect","Box","Stack","Typography","IconButton","Switch","useMediaQuery","ExpandedCard","ListingsBox","SearchBar","SearchIcon","MobileCard","loading","NoPosts","FeedbackForm","useNavigate","NoSavedPosts","Loading","mockDatabase","posts","post1","id","title","company","image","locations","job_type","date_deadline","Date","post2","clubs","club1","name","logo","sortByDate","sortedPosts","Object","keys","sort","a","b","reduce","finalMap","postKey","ViewPosts","listings","setListings","activeId","setActiveId","togglePosts","setTogglePosts","groupListings","setGroupListings","groupActiveId","setGroupActiveId","userExec","setUserExec","open","setOpen","matches","today","navigate","fetchData","currentUser","exec_for","length","updatedPosts","clubRef","club","postID","post","push","imageUrl","handleCardClick","handleGroupCardClick","handleTogglePosts","handleClose","mx","xs","lg","display","gap","justifyContent","alignItems","fontWeight","mb","mt","border","borderColor","borderRadius","minWidth","sm","md","maxWidth","width","px","py","height","shortenLocations"],"sources":["/Users/michaelkim/Documents/GitHub/inbound-webapp/src/Pages/ViewPosts.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Box,\n  Stack,\n  Typography,\n  IconButton,\n  Switch,\n} from \"@mui/material\";\nimport useMediaQuery from \"@mui/material/useMediaQuery\";\n\nimport ExpandedCard from \"../Components/ViewPosts/ExpandedCard\";\nimport ListingsBox from \"../Components/ViewPosts/ListingsBox\";\nimport SearchBar from \"../Components/ViewPosts/SearchBar\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport MobileCard from \"../Components/ViewPosts/MobileCard\";\nimport loading from \"./DummyData/Assets/loading\";\n\nimport NoPosts from \"../Components/ViewPosts/NoPosts\";\nimport FeedbackForm from \"../Components/FeedbackForm\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport NoSavedPosts from \"../Components/ViewPosts/NoSavedPosts\";\nimport Loading from \"../Loading/Loading\";\n\n// Simulated \"database\" of posts\nconst mockDatabase = {\n\tposts: {\n\t  post1: {\n\t\tid: \"post1\",\n\t\ttitle: \"Post 1\",\n\t\tcompany: \"Company A\",\n\t\timage: \"post1_image.jpg\",\n\t\tlocations: [\"Location A\", \"Location B\"],\n\t\tjob_type: \"Full-time\",\n\t\tdate_deadline: new Date(\"2023-08-31\"),\n\t\t// other properties...\n\t  },\n\t  post2: {\n\t\tid: \"post2\",\n\t\ttitle: \"Post 2\",\n\t\tcompany: \"Company B\",\n\t\timage: \"post2_image.jpg\",\n\t\tlocations: [\"Location C\"],\n\t\tjob_type: \"Part-time\",\n\t\tdate_deadline: new Date(\"2023-09-15\"),\n\t\t// other properties...\n\t  },\n\t  // ... more posts\n\t},\n\tclubs: {\n\t  club1: {\n\t\tname: \"Club A\",\n\t\tlogo: \"clubA_logo.png\",\n\t\tposts: [\"post1\", \"post2\"],\n\t  },\n\t  // ... more clubs\n\t},\n  };\n\nfunction sortByDate(posts) {\n  const sortedPosts = Object.keys(posts).sort(\n    (a, b) => posts[a].date_deadline - posts[b].date_deadline\n  );\n  return sortedPosts.reduce((finalMap, postKey) => {\n    finalMap[postKey] = posts[postKey];\n    return finalMap;\n  }, {});\n}\n\nconst ViewPosts = () => {\n  const [listings, setListings] = useState(null);\n  const [activeId, setActiveId] = useState(null);\n  const [togglePosts, setTogglePosts] = useState(false);\n  const [groupListings, setGroupListings] = useState(null);\n  const [groupActiveId, setGroupActiveId] = useState(null);\n  const [userExec, setUserExec] = useState(false);\n  const [open, setOpen] = useState(false);\n  const matches = useMediaQuery(\"(min-width:900px)\");\n  const today = new Date();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Simulated data fetching\n    const fetchData = () => {\n      // Simulating user data\n      const currentUser = {\n        clubs: [\"club1\"],\n        exec_for: [\"club1\"],\n      };\n      if (!currentUser) {\n        navigate(\"/signin\");\n      }\n      if (currentUser.exec_for.length) {\n        setUserExec(true);\n      }\n      // Simulating data retrieval from the \"database\"\n      const posts = mockDatabase.posts;\n      const clubs = mockDatabase.clubs;\n\t  const updatedPosts = { ...posts };\n\t\tfor (let clubRef of currentUser.clubs) {\n\t\t\tconst club = clubs[clubRef];\n\t\t\tfor (let postID of club.posts) {\n\t\t\t\tconst post = posts[postID];\n\t\t\t\tif (post) {\n\t\t\t\t\tif (!updatedPosts[postID].clubs) {\n\t\t\t\t\t  updatedPosts[postID].clubs = [];\n\t\t\t\t\t}\n\t\t\t\t\tupdatedPosts[postID].clubs.push({\n\t\t\t\t\t  name: club.name,\n\t\t\t\t\t  imageUrl: club.logo,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n    \tsetListings(posts);\n    \tsetGroupListings(posts);\n    };\n\n    fetchData();\n  }, []);\n\n  const handleCardClick = (id) => {\n\t\tsetActiveId(id);\n\t\tif (!matches) {\n\t\t\tsetOpen(true);\n\t\t}\n\t};\n\n\tconst handleGroupCardClick = (id) => {\n\t\tsetGroupActiveId(id);\n\t\tif (!matches) {\n\t\t\tsetOpen(true);\n\t\t}\n\t};\n\n\tconst handleTogglePosts = () => {\n\t\tsetTogglePosts(!togglePosts);\n\t};\n\n\tconst handleClose = () => {\n\t\tsetOpen(false);\n\t};\n\t// Posts loaded\n\tif (listings) {\n\t\t// Case 1: All Posts\n\t\tif (!togglePosts) {\n\t\t\t// Subcase 1: No Posts\n\t\t\tif (!Object.keys(listings).length) {\n\t\t\t\treturn <NoPosts />;\n\t\t\t}\n\t\t\t// Subcase 2: Default\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<Box sx={{ mx: { xs: \"0px\", lg: \"100px\" } }}>\n\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\tgap: \"100px\",\n\t\t\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\t\tmx: { xs: \"10px\", lg: \"0px\" },\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<Typography variant='h5' fontWeight={\"medium\"}>\n\t\t\t\t\t\t\t\t\tLatest Opportunities\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{/* <SearchBar sx={{ display: { xs: \"none\", md: \"block\" } }} /> \n\t\t\t<IconButton sx={{ display: { xs: \"block\", md: \"none\" } }}>\n\t\t\t\t<SearchIcon sx={{ color: \"primary.main\" }} />\n\t\t\t</IconButton>*/}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t{/* Toggle Posts */}\n\t\t\t\t\t\t\t<Stack\n\t\t\t\t\t\t\t\tdirection='row'\n\t\t\t\t\t\t\t\tspacing={1}\n\t\t\t\t\t\t\t\talignItems='center'\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tdisplay: userExec ? \"flex\" : \"none\",\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\tfontWeight: togglePosts ? \"regular\" : \"bold\",\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tAll Posts\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Switch onClick={handleTogglePosts} />\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\tfontWeight: togglePosts ? \"bold\" : \"regular\",\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tMy Posts\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t<Stack direction={\"row\"} sx={{ mb: 2 }}>\n\t\t\t\t\t\t\t<ListingsBox\n\t\t\t\t\t\t\t\tclickFunction={handleCardClick}\n\t\t\t\t\t\t\t\tactiveId={activeId}\n\t\t\t\t\t\t\t\tposts={listings}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ExpandedCard listing={listings[activeId]} />\n\t\t\t\t\t\t\t<MobileCard\n\t\t\t\t\t\t\t\tlisting={listings[activeId]}\n\t\t\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\t\t\topen={open}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t<FeedbackForm />\n\t\t\t\t\t</Box>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\t// Case 2: Group Posts\n\t\telse {\n\t\t\t// Subcase 1: No Posts\n\t\t\tif (!Object.keys(groupListings).length) {\n\t\t\t\treturn (\n\t\t\t\t\t<Box sx={{ mx: { xs: \"0px\", lg: \"100px\" } }}>\n\t\t\t\t\t\t<Stack>\n\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\tgap: \"100px\",\n\t\t\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\t\tmx: { xs: \"10px\", lg: \"0px\" },\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t<Typography variant='h5' fontWeight={\"medium\"}>\n\t\t\t\t\t\t\t\t\tLatest Opportunities\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t{/* <SearchBar sx={{ display: { xs: \"none\", md: \"block\" } }} /> \n\t\t\t\t\t\t\t<IconButton sx={{ display: { xs: \"block\", md: \"none\" } }}>\n\t\t\t\t\t\t\t\t<SearchIcon sx={{ color: \"primary.main\" }} />\n\t\t\t\t\t\t\t</IconButton>*/}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t{/* Toggle Posts */}\n\t\t\t\t\t\t\t<Stack direction='row' spacing={1} alignItems='center'>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\tfontWeight: togglePosts ? \"regular\" : \"bold\",\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tAll Posts\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Switch onClick={handleTogglePosts} />\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\tfontWeight: togglePosts ? \"bold\" : \"regular\",\n\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\tMy Posts\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t<NoSavedPosts />\n\t\t\t\t\t\t<FeedbackForm />\n\t\t\t\t\t</Box>\n\t\t\t\t);\n\t\t\t}\n\t\t\t// Subcase 2: Default\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t  <Box sx={{ mx: { xs: \"0px\", lg: \"100px\" } }}>\n\t\t\t\t\t<Stack>\n\t\t\t\t\t  <Box\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t  display: \"flex\",\n\t\t\t\t\t\t  gap: \"100px\",\n\t\t\t\t\t\t  justifyContent: \"space-between\",\n\t\t\t\t\t\t  alignItems: \"center\",\n\t\t\t\t\t\t  mx: { xs: \"10px\", lg: \"0px\" },\n\t\t\t\t\t\t}}\n\t\t\t\t\t  >\n\t\t\t\t\t\t<Typography variant=\"h5\" fontWeight={\"medium\"}>\n\t\t\t\t\t\t  Latest Opportunities\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t{/* <SearchBar sx={{ display: { xs: \"none\", md: \"block\" } }} /> \n\t\t\t\t\t\t<IconButton sx={{ display: { xs: \"block\", md: \"none\" } }}>\n\t\t\t\t\t\t  <SearchIcon sx={{ color: \"primary.main\" }} />\n\t\t\t\t\t\t</IconButton>*/}\n\t\t\t\t\t  </Box>\n\t\t\t\t\t  {/* Toggle Posts */}\n\t\t\t\t\t  <Stack\n\t\t\t\t\t\tdirection=\"row\"\n\t\t\t\t\t\tspacing={1}\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t  display: userExec ? \"flex\" : \"none\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t  >\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t  sx={{\n\t\t\t\t\t\t\tfontWeight: togglePosts ? \"regular\" : \"bold\",\n\t\t\t\t\t\t  }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t  All Posts\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Switch onClick={handleTogglePosts} />\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t  sx={{\n\t\t\t\t\t\t\tfontWeight: togglePosts ? \"bold\" : \"regular\",\n\t\t\t\t\t\t  }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t  My Posts\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t  </Stack>\n\t\t\t\t\t</Stack>\n\t\t\t\t\t<Stack direction=\"row\" sx={{ mb: 2 }}>\n\t\t\t\t\t  <ListingsBox\n\t\t\t\t\t\tclickFunction={togglePosts ? handleGroupCardClick : handleCardClick}\n\t\t\t\t\t\tactiveId={togglePosts ? groupActiveId : activeId}\n\t\t\t\t\t\tposts={togglePosts ? groupListings : listings}\n\t\t\t\t\t  />\n\t\t\t\t\t  <Paper\n\t\t\t\t\t\televation={3}\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t  mt: 1,\n\t\t\t\t\t\t  mx: 2,\n\t\t\t\t\t\t  border: 2,\n\t\t\t\t\t\t  borderColor: open ? \"primary.main\" : \"transparent\",\n\t\t\t\t\t\t  borderRadius: \"30px\",\n\t\t\t\t\t\t  minWidth: { xs: \"100%\", sm: \"100%\", md: \"400px\", lg: \"515px\" },\n\t\t\t\t\t\t  maxWidth: \"515px\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t  >\n\t\t\t\t\t\t<StyledButtonBase\n\t\t\t\t\t\t  sx={{\n\t\t\t\t\t\t\tjustifyContent: \"left\",\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\tborderRadius: \"30px\",\n\t\t\t\t\t\t\tpx: \"35px\",\n\t\t\t\t\t\t\tpy: \"23px\",\n\t\t\t\t\t\t\t\"&.Mui-active\": {\n\t\t\t\t\t\t\t  border: \"4px solid #482FD7\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  }}\n\t\t\t\t\t\t  onClick={() => (togglePosts ? handleGroupCardClick(groupActiveId) : handleCardClick(activeId))}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t  {/* ListingCard component starts here */}\n\t\t\t\t\t\t  <Stack\n\t\t\t\t\t\t\tgap={2}\n\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\tdirection=\"horizontal\"\n\t\t\t\t\t\t\tjustifyContent=\"left\"\n\t\t\t\t\t\t\twhiteSpace=\"nowrap\"\n\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t  <Img\n\t\t\t\t\t\t\t\talt={togglePosts ? groupListings[groupActiveId].company : listings[activeId].company}\n\t\t\t\t\t\t\t\tsrc={togglePosts ? groupListings[groupActiveId].image : listings[activeId].image}\n\t\t\t\t\t\t\t\tsx={{ width: 108, height: 108, borderRadius: \"5px\" }}\n\t\t\t\t\t\t\t  />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs sm container width=\"10%\">\n\t\t\t\t\t\t\t  <Grid item xs container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t\t\t  <Typography\n\t\t\t\t\t\t\t\t\ttextAlign=\"left\"\n\t\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\t\t\t\twhiteSpace=\"nowrap\"\n\t\t\t\t\t\t\t\t\tfontWeight=\"bold\"\n\t\t\t\t\t\t\t\t\ttextOverflow=\"ellipsis\"\n\t\t\t\t\t\t\t\t\toverflow=\"hidden\"\n\t\t\t\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t\t{togglePosts ? groupListings[groupActiveId].title : listings[activeId].title}\n\t\t\t\t\t\t\t\t  </Typography>\n\t\t\t\t\t\t\t\t  <Typography\n\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t\t\ttextAlign=\"left\"\n\t\t\t\t\t\t\t\t\ttextOverflow=\"ellipsis\"\n\t\t\t\t\t\t\t\t\twhiteSpace=\"nowrap\"\n\t\t\t\t\t\t\t\t\toverflow=\"hidden\"\n\t\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t\t{`${togglePosts ? groupListings[groupActiveId].company : listings[activeId].company} | ${\n\t\t\t\t\t\t\t\t\t  togglePosts ? shortenLocations(groupListings[groupActiveId].locations) : shortenLocations(listings[activeId].locations)\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t  </Typography>\n\t\t\t\t\t\t\t\t  <Typography\n\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\tcolor=\"text.secondary\"\n\t\t\t\t\t\t\t\t\ttextAlign=\"left\"\n\t\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t\t\t\t{togglePosts ? groupListings[groupActiveId].job_type : listings[activeId].job_type}\n\t\t\t\t\t\t\t\t  </Typography>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t  </Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t  </Stack>\n\t\t\t\t\t\t  {/* ListingCard component ends here */}\n\t\t\t\t\t\t</StyledButtonBase>\n\t\t\t\t\t  </Paper>\n\t\t\t\t\t  <MobileCard\n\t\t\t\t\t\tlisting={togglePosts ? groupListings[groupActiveId] : listings[activeId]}\n\t\t\t\t\t\thandleClose={handleClose}\n\t\t\t\t\t\topen={open}\n\t\t\t\t\t  />\n\t\t\t\t\t</Stack>\n\t\t\t\t\t<FeedbackForm sx={{ mt: 2 }} />\n\t\t\t\t  </Box>\n\t\t\t\t);\n\t\t\t  }\n\t\t\t}\n\t}\n\t// Posts not loaded\n\telse {\n\t\treturn <Loading></Loading>;\n\t}\n};\n\nexport default ViewPosts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}